(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(9),r=a.n(i),s=(a(92),a(50),a(8)),c=a(21),l=a(56),d=a(142),u=a(146),p=a(116),f=a(155),h=a(147),m=a(57),T=a(12),E=a(71),k=a.n(E).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"e203b3f5-d0bb-401b-85c2-cf8ebe7c290c"}}),v=function(t,e){return k.post("auth/login",{email:t,password:e}).then(function(t){return t.data})},O=function(t,e){return k.post("todo-lists/".concat(e,"/tasks"),{title:t})},g=function(t){return k.post("todo-lists/",{title:t})},b=function(){return k.get("todo-lists/")},C=function(t){return k.get("todo-lists/".concat(t,"/tasks"))},j=function(t){return k.delete("todo-lists/".concat(t))},L=function(t,e,a){return k.put("todo-lists/".concat(t,"/tasks/").concat(e),a)},I=function(t,e){return k.delete("todo-lists/".concat(t,"/tasks/").concat(e))},y=function(t,e){return k.put("todo-lists/".concat(t),{title:e})},S="TodoList/Reducer/ADD-TASK",A={todolists:[],auth:!1},w=function(t,e){return{type:"TodoList/Reducer/CHANGE-TITLE-TODOLIST",todolistId:t,newTitle:e}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/ADD-TODOLIST":return Object(T.a)({},t,{todolists:[].concat(Object(m.a)(t.todolists),[e.newTodolist])});case S:return Object(T.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todoListId?Object(T.a)({},t,{tasks:[].concat(Object(m.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/CHANGE-TASK":return Object(T.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.task.todoListId?Object(T.a)({},t,{tasks:t.tasks.map(function(t){return t.id!==e.task.id?t:Object(T.a)({},t,{},e.task)})}):t})});case"TodoList/Reducer/CHANGE-TITLE-TODOLIST":return Object(T.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?Object(T.a)({},t,{title:e.newTitle}):t})});case"TodoList/Reducer/DELETE-TODOLIST":return Object(T.a)({},t,{todolists:t.todolists.filter(function(t){return t.id!==e.todoListId})});case"TodoList/Reducer/DELETE-TASK":return Object(T.a)({},t,{todolists:t.todolists.map(function(t){return t.id!==e.todoListId?t:Object(T.a)({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})})})});case"TodoList/Reducer/SET-TODOLIST":return Object(T.a)({},t,{todolists:e.todolists.map(function(t){return Object(T.a)({},t,{tasks:[]})})});case"TodoList/Reducer/SET-TASKS":return Object(T.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?Object(T.a)({},t,{tasks:e.tasks}):t})});case"TodoList/Reducer/AUTHORIZED":return Object(T.a)({},t,{auth:e.auth})}return t},R=Object(c.b)(null,{authorizeTC:function(t,e){return function(a){v(t,e).then(function(t){0===t.resultCode&&a({type:"TodoList/Reducer/AUTHORIZED",auth:!0})})}}})(function(t){var e=Object(n.useState)("free@samuraijs.com"),a=Object(l.a)(e,2),i=a[0],r=a[1],s=Object(n.useState)("free"),c=Object(l.a)(s,2),m=c[0],T=c[1];return o.a.createElement(d.a,{fixed:!0,maxWidth:"sm",style:{height:"100vh"}},o.a.createElement(u.a,{container:!0,justify:"center",alignItems:"center",style:{width:"100%",height:"100vh"}},o.a.createElement(p.a,{elevation:5,style:{padding:"50px",minWidth:"200px",maxWidth:"240px"}},o.a.createElement("h3",null,"Login"),o.a.createElement(f.a,{placeholder:"email",value:i,onChange:function(t){r(t.currentTarget.value)}}),o.a.createElement(f.a,{placeholder:"password",value:m,onChange:function(t){T(t.currentTarget.value)},style:{padding:"10px 0px"}}),o.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){t.authorizeTC(i,m)}},"Send"))))}),x=a(13),F=a(23),M=a(15),N=a(14),H=a(16),V=a(156),K=a(148),_=a(149),P=function(t){function e(){var t,a;Object(x.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(M.a)(this,(t=Object(N.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,title:a.props.task.title},a.activateEditMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){a.setState({editMode:!1}),a.props.changeTitle(a.props.task.id,a.state.title)},a.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;a.props.changeStatus(a.props.task.id,e)},a.onTitleChanged=function(t){a.setState({title:t.currentTarget.value})},a.deleteTask=function(){a.props.deleteTaskTC(a.props.todoListId,a.props.task.id)},a.render=function(){var t=2===a.props.task.status?"todoList-task done":"todoList-task";return o.a.createElement("div",{className:"todoList-tasks"},o.a.createElement("div",{className:t},o.a.createElement(V.a,{color:"primary",checked:2===a.props.task.status,onChange:a.onIsDoneChanged}),a.state.editMode?o.a.createElement(f.a,{variant:"outlined",value:a.state.title,autoFocus:!0,onChange:a.onTitleChanged,onBlur:a.deactivateEditMode}):o.a.createElement("span",{onClick:a.activateEditMode},a.props.task.title),o.a.createElement(K.a,{onClick:a.deleteTask},o.a.createElement(_.a,null))))},a}return Object(H.a)(e,t),e}(o.a.Component),W=Object(c.b)(function(t){return{todolists:t.todolist.todolists}},{deleteTaskTC:function(t,e){return function(a){I(t,e).then(function(n){0===n.data.resultCode&&a(function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",taskId:t,todoListId:e}}(e,t))})}}})(P),B=function(t){function e(){var t,a;Object(x.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(M.a)(this,(t=Object(N.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=a.props.tasks.map(function(t){return o.a.createElement(W,{task:t,title:t.title,isDone:t.status,priority:t.priority,changeStatus:a.props.changeStatus,changeTitle:a.props.changeTitle,todoListId:a.props.todoListId,key:t.id})});return o.a.createElement("div",{className:"todoList-tasks"},t)},a}return Object(H.a)(e,t),e}(o.a.Component),G=function(t){function e(){var t,a;Object(x.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(M.a)(this,(t=Object(N.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},a.onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.render=function(){return o.a.createElement("div",{className:"todoList-footer"},!a.state.isHidden&&o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{variant:"All"===a.props.filterValue?"contained":"text",color:"All"===a.props.filterValue?"primary":"default",onClick:a.onAllFilterClick},"All"),o.a.createElement(h.a,{variant:"Completed"===a.props.filterValue?"contained":"text",color:"Completed"===a.props.filterValue?"primary":"default",onClick:a.onCompletedFilterClick},"Completed"),o.a.createElement(h.a,{variant:"Active"===a.props.filterValue?"contained":"text",color:"Active"===a.props.filterValue?"primary":"default",onClick:a.onActiveFilterClick},"Active")),!a.state.isHidden&&o.a.createElement("span",{onClick:function(){a.setState({isHidden:!0})}},"Hide"),a.state.isHidden&&o.a.createElement("span",{onClick:function(){a.setState({isHidden:!1})}},"Show"))},a}return Object(H.a)(e,t),e}(o.a.Component),J=a(150),U=function(t){function e(){var t,a;Object(x.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(M.a)(this,(t=Object(N.a)(e)).call.apply(t,[this].concat(o)))).state={error:!1,title:""},a.onAddItemClick=function(){var t=a.state.title;a.setState({title:""}),""===t?a.setState({error:!0}):(a.setState({error:!1}),a.props.addItem(t))},a.onTitleChanged=function(t){var e=t.currentTarget.value;a.setState({error:!1,title:e})},a.onAddItemEnterPress=function(t){"Enter"===t.key&&a.onAddItemClick()},a}return Object(H.a)(e,t),Object(F.a)(e,[{key:"render",value:function(){var t=this.state.error?"This is required":"";return o.a.createElement("div",{className:"NewItemForm"},o.a.createElement(f.a,{variant:"outlined",value:this.state.title,onChange:this.onTitleChanged,placeholder:"New Item name",error:this.state.error,helperText:t,onKeyPress:this.onAddItemEnterPress}),o.a.createElement(K.a,{color:"primary",onClick:this.onAddItemClick},o.a.createElement(J.a,null)))}}]),e}(o.a.Component),z=a(75),Z=a.n(z),q=function(t){function e(){var t,a;Object(x.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(M.a)(this,(t=Object(N.a)(e)).call.apply(t,[this].concat(o)))).state={editMode:!1,currentTitle:a.props.title},a.activeMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){a.setState({editMode:!1}),a.props.changeTitleTC(a.props.todoListId,a.state.currentTitle)},a.titleChanged=function(t){a.setState({currentTitle:t.currentTarget.value})},a}return Object(H.a)(e,t),Object(F.a)(e,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.editMode?o.a.createElement(f.a,{variant:"outlined",onBlur:this.deactivateEditMode,autoFocus:!0,value:this.state.currentTitle,onChange:this.titleChanged}):o.a.createElement("span",{className:Z.a.title},o.a.createElement("h3",{onClick:this.activeMode,className:"todoList-header__title"},this.props.title),o.a.createElement(K.a,{onClick:this.props.deleteTodolist},o.a.createElement(_.a,null))))}}]),e}(o.a.Component),Y=function(t){function e(){return Object(x.a)(this,e),Object(M.a)(this,Object(N.a)(e).apply(this,arguments))}return Object(H.a)(e,t),Object(F.a)(e,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(q,{title:this.props.title,deleteTodolist:this.props.deleteTodolist,todoListId:this.props.todoListId,changeTitleTC:this.props.changeTitleTC}),o.a.createElement(U,{addItem:this.props.addItem}))}}]),e}(o.a.Component),$=function(t){function e(){var t,a;Object(x.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(M.a)(this,(t=Object(N.a)(e)).call.apply(t,[this].concat(i)))).state={tasks:[],filterValue:"All"},a.restoreState=function(){a.props.loadTasksThunk(a.props.id)},a.deleteTodolist=function(){a.props.deleteTodolistTC(a.props.id)},a.changeTask=function(t,e){var n=a.props.tasks.find(function(e){return e.id===t}),o=Object(T.a)({},n,{},e);a.props.changeTaskTC(a.props.id,t,o,e)},a.changeStatus=function(t,e){a.changeTask(t,{status:e})},a.changeTitle=function(t,e){a.changeTask(t,{title:e})},a.changeFilter=function(t){a.setState({filterValue:t})},a.addTask=function(t){a.props.addTaskTC(t,a.props.id)},a.render=function(){var t=a.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"todoList"},o.a.createElement(u.a,{item:!0},o.a.createElement(p.a,{style:{margin:"10px",padding:"10px"}},o.a.createElement(Y,{addItem:a.addTask,title:a.props.title,deleteTodolist:a.deleteTodolist,todoListId:a.props.id,changeTitleTC:a.props.changeTitleTC}),o.a.createElement(B,{changeTitle:a.changeTitle,changeStatus:a.changeStatus,tasks:e.filter(function(t){return"All"===a.state.filterValue||("Active"===a.state.filterValue?0===t.status:"Completed"===a.state.filterValue?2===t.status:void 0)}),todoListId:a.props.id}),o.a.createElement(G,{filterValue:a.state.filterValue,changeFilter:a.changeFilter})))))},a}return Object(H.a)(e,t),Object(F.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),Q=Object(c.b)(null,{changeTitleTodolist:w,loadTasksThunk:function(t){return function(e){return C(t).then(function(a){var n=a.data.items;e(function(t,e){return{type:"TodoList/Reducer/SET-TASKS",todolistId:e,tasks:t}}(n,t))})}},deleteTodolistTC:function(t){return function(e){j(t).then(function(a){0===a.data.resultCode&&e(function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todoListId:t}}(t))})}},changeTaskTC:function(t,e,a,n){return function(n){L(t,e,a).then(function(a){if(0===a.data.resultCode){var o=a.data.data.item;n(function(t,e,a){return{type:"TodoList/Reducer/CHANGE-TASK",task:t,taskId:e,todoListId:a}}(o,t,e))}}).catch(function(t){})}},addTaskTC:function(t,e){return function(a){O(t,e).then(function(t){0===t.data.resultCode&&a(function(t,e){return{type:S,newTask:t,todoListId:e}}(t.data.data.item,e))})}},changeTitleTC:function(t,e){return function(a){y(t,e).then(function(n){0===n.data.resultCode&&a(w(t,e))})}}})($),X=a(151),tt=a(152),et=a(154),at=a(153),nt=function(t){function e(){var t,a;Object(x.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(M.a)(this,(t=Object(N.a)(e)).call.apply(t,[this].concat(i)))).state={todolists:[],login:!1},a.restoreState=function(){a.props.restoreTodolistTC()},a.addTodolist=function(t){a.props.addTodolistTC(t)},a.render=function(){var t=a.props.todolists.map(function(t){return o.a.createElement(Q,{id:t.id,title:t.title,tasks:t.tasks,key:t.id})});return o.a.createElement("div",{className:"App"},o.a.createElement("div",null,o.a.createElement(X.a,{position:"static"},o.a.createElement(tt.a,null,o.a.createElement(K.a,{edge:"start",color:"inherit"},o.a.createElement(at.a,null)),o.a.createElement(et.a,{variant:"h6"},"News"),o.a.createElement(h.a,{color:"inherit"},"Login"))),o.a.createElement(d.a,{fixed:!0},o.a.createElement(u.a,{container:!0,style:{padding:"20px 10px"}},o.a.createElement(U,{addItem:a.addTodolist})),o.a.createElement(u.a,{container:!0,spacing:2},t))))},a}return Object(H.a)(e,t),Object(F.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),ot=Object(c.b)(function(t){return{todolists:t.todolist.todolists,auth:t.todolist.auth}},{addTodolistTC:function(t){return function(e){g(t).then(function(t){var a=t.data.data.item;e({type:"TodoList/Reducer/ADD-TODOLIST",newTodolist:a})})}},restoreTodolistTC:function(){return function(t){b().then(function(e){t({type:"TodoList/Reducer/SET-TODOLIST",todolists:e.data})}).catch(function(t){console.log(t)})}}})(nt),it=function(t){var e=Object(c.c)(function(t){return t.todolist.auth});return o.a.createElement("div",{className:"App"},o.a.createElement(s.b,{path:"/login",component:R}),o.a.createElement(s.b,{path:"/todo",component:ot}),e?o.a.createElement(s.a,{to:"/todo"}):o.a.createElement(s.a,{to:"/login"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rt=a(36),st=a(76),ct=Object(rt.c)({todolist:D}),lt=Object(rt.d)(ct,Object(rt.a)(st.a)),dt=a(77);r.a.render(o.a.createElement(dt.a,null,o.a.createElement(c.a,{store:lt},o.a.createElement(it,{todolists:[]}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},50:function(t,e,a){},75:function(t,e,a){t.exports={title:"TodoList_title__PI9d0",buttonOfDelete:"TodoList_buttonOfDelete__1JPCm"}},87:function(t,e,a){t.exports=a(115)},92:function(t,e,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.b1f9bfa9.chunk.js.map