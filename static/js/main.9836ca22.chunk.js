(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(8),r=a.n(i),s=(a(82),a(12)),c=a(19),l=a(14),d=a(13),u=a(15),p=(a(52),a(11)),f=a(22),T=a(48),h=a(62),m=a.n(h).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists/",withCredentials:!0,headers:{"API-KEY":"0c05e3f5-1bb0-4c63-a612-ce4b6957f3bd"}}),k=function(t,e){return m.post("".concat(e,"/tasks"),{title:t})},E=function(t){return m.post("",{title:t})},O=function(){return m.get("")},v=function(t){return m.get("".concat(t,"/tasks"))},C=function(t){return m.delete("".concat(t))},b=function(t,e,a){return m.put("".concat(t,"/tasks/").concat(e),a)},g=function(t,e){return m.delete("".concat(t,"/tasks/").concat(e))},j=function(t,e){return m.put("".concat(t),{title:e})},L="TodoList/Reducer/ADD-TASK",I={todolists:[]},S=function(t,e){return{type:"TodoList/Reducer/CHANGE-TITLE-TODOLIST",todolistId:t,newTitle:e}},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/ADD-TODOLIST":return Object(p.a)({},t,{todolists:[].concat(Object(T.a)(t.todolists),[e.newTodolist])});case L:return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todoListId?Object(p.a)({},t,{tasks:[].concat(Object(T.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/CHANGE-TASK":return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.task.todoListId?Object(p.a)({},t,{tasks:t.tasks.map(function(t){return t.id!==e.task.id?t:Object(p.a)({},t,{},e.task)})}):t})});case"TodoList/Reducer/CHANGE-TITLE-TODOLIST":return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?Object(p.a)({},t,{title:e.newTitle}):t})});case"TodoList/Reducer/DELETE-TODOLIST":return Object(p.a)({},t,{todolists:t.todolists.filter(function(t){return t.id!==e.todoListId})});case"TodoList/Reducer/DELETE-TASK":return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id!==e.todoListId?t:Object(p.a)({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})})})});case"TodoList/Reducer/SET-TODOLIST":return Object(p.a)({},t,{todolists:e.todolists.map(function(t){return Object(p.a)({},t,{tasks:[]})})});case"TodoList/Reducer/SET-TASKS":return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?Object(p.a)({},t,{tasks:e.tasks}):t})})}return t},y=a(146),w=a(145),D=a(135),F=a(136),M=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,title:a.props.task.title},a.activateEditMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){a.setState({editMode:!1}),a.props.changeTitle(a.props.task.id,a.state.title)},a.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;a.props.changeStatus(a.props.task.id,e)},a.onTitleChanged=function(t){a.setState({title:t.currentTarget.value})},a.deleteTask=function(){a.props.deleteTaskTC(a.props.todoListId,a.props.task.id)},a.render=function(){var t=2===a.props.task.status?"todoList-task done":"todoList-task";return o.a.createElement("div",{className:"todoList-tasks"},o.a.createElement("div",{className:t},o.a.createElement(y.a,{color:"primary",checked:2===a.props.task.status,onChange:a.onIsDoneChanged}),a.state.editMode?o.a.createElement(w.a,{variant:"outlined",value:a.state.title,autoFocus:!0,onChange:a.onTitleChanged,onBlur:a.deactivateEditMode}):o.a.createElement("span",{onClick:a.activateEditMode},a.props.task.title," "),o.a.createElement(D.a,{onClick:a.deleteTask},o.a.createElement(F.a,null))))},a}return Object(u.a)(e,t),e}(o.a.Component),N=Object(f.b)(function(t){return{todolists:t.todolist.todolists}},{deleteTaskTC:function(t,e){return function(a){g(t,e).then(function(n){0===n.data.resultCode&&a(function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",taskId:t,todoListId:e}}(e,t))})}}})(M),R=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=a.props.tasks.map(function(t){return o.a.createElement(N,{task:t,title:t.title,isDone:t.status,priority:t.priority,changeStatus:a.props.changeStatus,changeTitle:a.props.changeTitle,todoListId:a.props.todoListId})});return o.a.createElement("div",{className:"todoList-tasks"},t)},a}return Object(u.a)(e,t),e}(o.a.Component),H=a(137),V=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},a.onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.onShowFiltersClick=function(){a.setState({isHidden:!0})},a.onHideFiltersClick=function(){a.setState({isHidden:!1})},a.render=function(){a.props.filterValue,a.props.filterValue,a.props.filterValue;return o.a.createElement("div",{className:"todoList-footer"},!a.state.isHidden&&o.a.createElement(o.a.Fragment,null,o.a.createElement(H.a,{variant:"All"===a.props.filterValue?"outlined":"text",color:"default",onClick:a.onAllFilterClick},"All"),o.a.createElement(H.a,{variant:"Completed"===a.props.filterValue?"outlined":"text",color:"default",onClick:a.onCompletedFilterClick},"Completed"),o.a.createElement(H.a,{variant:"Active"===a.props.filterValue?"outlined":"text",color:"default",onClick:a.onActiveFilterClick},"Active")),!a.state.isHidden&&o.a.createElement("span",{onClick:function(){a.setState({isHidden:!0})}},"Hide"),a.state.isHidden&&o.a.createElement("span",{onClick:function(){a.setState({isHidden:!1})}},"Show"))},a}return Object(u.a)(e,t),e}(o.a.Component),x=a(138),K=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={error:!1,title:""},a.onAddItemClick=function(){var t=a.state.title;a.setState({title:""}),""===t?a.setState({error:!0}):(a.setState({error:!1}),a.props.addItem(t))},a.onTitleChanged=function(t){var e=t.currentTarget.value;a.setState({error:!1,title:e})},a.onAddItemEnterPress=function(t){"Enter"===t.key&&a.onAddItemClick()},a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.state.error?"This is required":"";return o.a.createElement("div",{className:"NewItemForm"},o.a.createElement(w.a,{variant:"outlined",value:this.state.title,onChange:this.onTitleChanged,placeholder:"New Item name",error:this.state.error,helperText:t,onKeyPress:this.onAddItemEnterPress}),o.a.createElement(D.a,{color:"primary",onClick:this.onAddItemClick},o.a.createElement(x.a,null)))}}]),e}(o.a.Component),_=a(66),P=a.n(_),B=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={editMode:!1,currentTitle:a.props.title},a.activeMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){a.setState({editMode:!1}),a.props.changeTitleTC(a.props.todoListId,a.state.currentTitle)},a.titleChanged=function(t){a.setState({currentTitle:t.currentTarget.value})},a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.editMode?o.a.createElement(w.a,{variant:"outlined",onBlur:this.deactivateEditMode,autoFocus:!0,value:this.state.currentTitle,onChange:this.titleChanged}):o.a.createElement("span",{className:P.a.title},o.a.createElement("h3",{onClick:this.activeMode,className:"todoList-header__title"},this.props.title),o.a.createElement(D.a,{onClick:this.props.deleteTodolist},o.a.createElement(F.a,null))))}}]),e}(o.a.Component),G=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{title:this.props.title,deleteTodolist:this.props.deleteTodolist,todoListId:this.props.todoListId,changeTitleTC:this.props.changeTitleTC}),o.a.createElement(K,{addItem:this.props.addItem}))}}]),e}(o.a.Component),J=a(139),W=a(106),q=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={tasks:[],filterValue:"All"},a.restoreState=function(){a.props.loadTasksThunk(a.props.id)},a.deleteTodolist=function(){a.props.deleteTodolistTC(a.props.id)},a.changeTask=function(t,e){var n=a.props.tasks.find(function(e){return e.id===t}),o=Object(p.a)({},n,{},e);a.props.changeTaskTC(a.props.id,t,o,e)},a.changeStatus=function(t,e){a.changeTask(t,{status:e})},a.changeTitle=function(t,e){a.changeTask(t,{title:e})},a.changeFilter=function(t){a.setState({filterValue:t})},a.addTask=function(t){a.props.addTaskTC(t,a.props.id)},a.render=function(){var t=a.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"todoList"},o.a.createElement(J.a,{item:!0},o.a.createElement(W.a,{style:{margin:"10px",padding:"10px"}},o.a.createElement(G,{addItem:a.addTask,title:a.props.title,deleteTodolist:a.deleteTodolist,todoListId:a.props.id,changeTitleTC:a.props.changeTitleTC}),o.a.createElement(R,{changeTitle:a.changeTitle,changeStatus:a.changeStatus,tasks:e.filter(function(t){return"All"===a.state.filterValue||("Active"===a.state.filterValue?0===t.status:"Completed"===a.state.filterValue?2===t.status:void 0)}),todoListId:a.props.id}),o.a.createElement(V,{filterValue:a.state.filterValue,changeFilter:a.changeFilter})))))},a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),U=Object(f.b)(null,{changeTitleTodolist:S,loadTasksThunk:function(t){return function(e){return v(t).then(function(a){var n=a.data.items;e(function(t,e){return{type:"TodoList/Reducer/SET-TASKS",todolistId:e,tasks:t}}(n,t))})}},deleteTodolistTC:function(t){return function(e){C(t).then(function(a){0===a.data.resultCode&&e(function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todoListId:t}}(t))})}},changeTaskTC:function(t,e,a,n){return function(n){b(t,e,a).then(function(a){if(0===a.data.resultCode){var o=a.data.data.item;n(function(t,e,a){return{type:"TodoList/Reducer/CHANGE-TASK",task:t,taskId:e,todoListId:a}}(o,t,e))}}).catch(function(t){})}},addTaskTC:function(t,e){return function(a){k(t,e).then(function(t){0===t.data.resultCode&&a(function(t,e){return{type:L,newTask:t,todoListId:e}}(t.data.data.item,e))})}},changeTitleTC:function(t,e){return function(a){j(t,e).then(function(n){0===n.data.resultCode&&a(S(t,e))})}}})(q),Y=a(140),$=a(141),z=a(143),Q=a(144),X=a(142),Z=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={todolists:[]},a.restoreState=function(){a.props.restoreTodolistTC()},a.addTodolist=function(t){a.props.addTodolistTC(t)},a.render=function(){var t=a.props.todolists.map(function(t){return o.a.createElement(U,{id:t.id,title:t.title,tasks:t.tasks})});return o.a.createElement("div",{className:"App"},o.a.createElement(Y.a,{position:"static"},o.a.createElement($.a,null,o.a.createElement(D.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(X.a,null)),o.a.createElement(z.a,{variant:"h6"},"News"),o.a.createElement(H.a,{color:"inherit"},"Login"))),o.a.createElement(Q.a,{fixed:!0},o.a.createElement(J.a,{container:!0,style:{padding:"20px 10px"}},o.a.createElement(K,{addItem:a.addTodolist})),o.a.createElement(J.a,{container:!0,spacing:2},t)))},a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),tt=Object(f.b)(function(t){return{todolists:t.todolist.todolists}},{addTodolistTC:function(t){return function(e){E(t).then(function(t){var a=t.data.data.item;e({type:"TodoList/Reducer/ADD-TODOLIST",newTodolist:a})})}},restoreTodolistTC:function(){return function(t){O().then(function(e){t({type:"TodoList/Reducer/SET-TODOLIST",todolists:e.data})})}}})(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var et=a(30),at=a(67),nt=Object(et.c)({todolist:A}),ot=Object(et.d)(nt,Object(et.a)(at.a));r.a.render(o.a.createElement(f.a,{store:ot},o.a.createElement(tt,{todolists:[]})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},52:function(t,e,a){},66:function(t,e,a){t.exports={title:"TodoList_title__PI9d0",buttonOfDelete:"TodoList_buttonOfDelete__1JPCm"}},77:function(t,e,a){t.exports=a(105)},82:function(t,e,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.9836ca22.chunk.js.map